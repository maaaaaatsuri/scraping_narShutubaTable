{% extends 'base.html' %}
{% load static %}

<!doctype html>
<html lang="ja">
<head>
{% block title %}æ¡ä»¶æ¤œç´¢{% endblock %}
</head>

<body>
{% block header %}<h1>æ¡ä»¶æ¤œç´¢ãƒšãƒ¼ã‚¸</h1>{% endblock header %}
{% block contents %}
<br>
<h3><a href='{% url "home" %}'>ğŸ‡ã†ã¾ã‚³ãƒ”</a></h3>
<br>


<form action="" method="get">
  <label for="select_date">é–‹å‚¬æ—¥ã‚’é¸æŠã—ã¦ãã ã•ã„</label>
  <input type="search" size="22" name="query_date" placeholder="æŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“" autocomplete="off" list="select_date">
      <datalist id="select_date">
          {% for date, join_date in datedict.items %}
              <option value="{{ join_date }}">{{ date }}</option>
          {% endfor %}
      </datalist>
  <button type="submit">æ¤œç´¢ã™ã‚‹</button>
</form>

{% for v in filtering_venues %}
  <a href='{% url "d_search" %}'>
    {{ v.held_date }} &thinsp; {{ v.venue }}
  </a><br>
{% endfor %}

<br>

<form action="" method="get">
  <label for="">é–‹å‚¬å ´æ‰€ã‚’é¸æŠã—ã¦ãã ã•ã„>></label>
  <input type="search" size="22" name="query_venue" placeholder="æŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“" autocomplete="off" list="select_venue">
      <datalist id="select_venue">
          {% for v in filtering_venues %}
              <option value="{{ v.venue }}">
          {% endfor %}
      </datalist>
  <button type="submit">æ¤œç´¢ã™ã‚‹</button>
</form><br>

<table border="1">
  <tr>
    <th>é–‹å‚¬æ—¥</th>
    <th>é–‹å‚¬å ´æ‰€</th>
    <th>ãƒ¬ãƒ¼ã‚¹</th>
    <th>ç€é †</th>
    <th>æ </th>
    <th>é¦¬ç•ª</th>
    <th>é€†ç•ª</th>
    <th>å°</th>
    <th>é¦¬å</th>
    <th>é¨æ‰‹</th>
    <th>å©èˆ</th>
    <th>å˜å‹ã‚ªãƒƒã‚º</th>
    <th>äººæ°—</th>
  </tr>
  {% for o in dateselected %}
  <tr>
    <td>{{ o.held_date }}</td>
    <td>{{ o.venue }}</td>
    <td>{{ o.race_number }}</td>
    <td>{{ o.rank }}</td>
    <td>{{ o.frame }}</td>
    <td>{{ o.umaban }}</td>
    <td>{{ o.rev_umaban }}</td>
    <td>{{ o.mark }}</td>
    <td>{{ o.horse_name }}</td>
    <td>{{ o.jockey }}</td>
    <td>{{ o.stable }}</td>
    <td>{{ o.odds }}</td>
    <td>{{ o.popularity }}</td>
  </tr>
  {% endfor %}
</table><br><br>

<br>

{% endblock %}
</body>
</html>