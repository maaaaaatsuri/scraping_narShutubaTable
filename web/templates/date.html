{% extends 'base.html' %}
{% load static %}

<!doctype html>
<html lang="ja">
<head>
{% block title %}条件検索{% endblock %}
</head>

<body>
{% block header %}<h1>条件検索ページ</h1>{% endblock header %}
{% block contents %}
<br>
<h3><a href='{% url "home" %}'>🏇うまコピ</a></h3>
<br>


<form action="" method="get">
  <label for="select_date">開催日を選択してください</label>
  <input type="search" size="22" name="query_date" placeholder="指定されていません" autocomplete="off" list="select_date">
      <datalist id="select_date">
          {% for date, join_date in datedict.items %}
              <option value="{{ join_date }}">{{ date }}</option>
          {% endfor %}
      </datalist>
  <button type="submit">検索する</button>
</form>

{% for v in filtering_venues %}
  <a href='{% url "d_search" %}'>
    {{ v.held_date }} &thinsp; {{ v.venue }}
  </a><br>
{% endfor %}

<br>

<form action="" method="get">
  <label for="">開催場所を選択してください>></label>
  <input type="search" size="22" name="query_venue" placeholder="指定されていません" autocomplete="off" list="select_venue">
      <datalist id="select_venue">
          {% for v in filtering_venues %}
              <option value="{{ v.venue }}">
          {% endfor %}
      </datalist>
  <button type="submit">検索する</button>
</form><br>

<table border="1">
  <tr>
    <th>開催日</th>
    <th>開催場所</th>
    <th>レース</th>
    <th>着順</th>
    <th>枠</th>
    <th>馬番</th>
    <th>逆番</th>
    <th>印</th>
    <th>馬名</th>
    <th>騎手</th>
    <th>厩舎</th>
    <th>単勝オッズ</th>
    <th>人気</th>
  </tr>
  {% for o in dateselected %}
  <tr>
    <td>{{ o.held_date }}</td>
    <td>{{ o.venue }}</td>
    <td>{{ o.race_number }}</td>
    <td>{{ o.rank }}</td>
    <td>{{ o.frame }}</td>
    <td>{{ o.umaban }}</td>
    <td>{{ o.rev_umaban }}</td>
    <td>{{ o.mark }}</td>
    <td>{{ o.horse_name }}</td>
    <td>{{ o.jockey }}</td>
    <td>{{ o.stable }}</td>
    <td>{{ o.odds }}</td>
    <td>{{ o.popularity }}</td>
  </tr>
  {% endfor %}
</table><br><br>

<br>

{% endblock %}
</body>
</html>