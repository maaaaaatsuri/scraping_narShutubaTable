{% extends 'base.html' %}
{% load static %}

<!doctype html>
<html lang="ja">
<head>
{% block title %}対象{% endblock %}
</head>

<body>
{% block header %}<h1>出馬表一覧</h1>{% endblock header %}

{% block contents %}

<br>
<h3><a href='{% url "home" %}'>{{ '🏇うまコピホームへ' }}</a></h3><br>

<form action="" method="get">
    <label for="">馬名で検索(馬名に一部を含む)>></label>
    <input type="text" size="22" name="query_a" placeholder="指定されていません" autocomplete="off">

    <label for="">騎手で検索>></label>
    <input type="search" size="22" name="query_b" placeholder="指定されていません" autocomplete="off" list="jockey">
        <datalist id="jockey">
            {% for jockey in jockeys %}
                <option value="{{ jockey.name }}">
            {% endfor %}
        </datalist>

    <label for="">厩舎で検索>></label>
    <input type="search" size="22" name="query_c" placeholder="指定されていません" autocomplete="off" list="stable"><br>
        <datalist id="stable">
            {% for stable in stables %}
                <option value="{{ stable.name }}">
            {% endfor %}
        </datalist>

    <input type="hidden" name="query_venue" value="{{ query_venue }}">
    <button type="submit" name="query_date" value="{{ query_date }}">検索する</button>
</form><br>


<table border="1">
   <tr>
        <th>レース</th>
        <th>着順</th>
        <th>枠</th>
        <th>馬番</th>
        <th>逆番</th>
        <th>馬名</th>
        <th>印</th>
        <th>騎手</th>
        <th>厩舎</th>
        <th>単勝オッズ</th>
        <th>人気</th>
   </tr>
   {% for search_result in search_results %}
   <tr>
        <td>{{ search_result.racetable.race_num }}</td>
        <td>{{ search_result.rank }}</td>
        <td>{{ search_result.frame }}</td>
        <td>{{ search_result.umaban }}</td>
        <td>{{ search_result.rev_umaban }}</td>
        <td>{{ search_result.horse_name }}</td>
        <td>{{ search_result.mark }}</td>
        <td>{{ search_result.jockey }}</td>
        <td>{{ search_result.stable }}</td>
        <td>{{ search_result.odds }}</td>
        <td>{{ search_result.popularity }}</td>
   </tr>
   {% endfor %}
</table><br><br>


{% endblock contents %}
</body>
</html>